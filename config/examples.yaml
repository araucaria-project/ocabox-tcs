# Example configuration for tutorial services
# This config demonstrates how to configure multiple services with different settings

nats:
  host: localhost
  port: 4222
  required: false  # Optional for examples - won't block if NATS unavailable

# Registry: maps service_type to Python module path
# Explicit paths needed because file names differ from service types
registry:
  examples.minimal: ocabox_tcs.services.examples.01_minimal
  examples.basic: ocabox_tcs.services.examples.02_basic
  examples.logging: ocabox_tcs.services.examples.03_logging
  examples.monitoring: ocabox_tcs.services.examples.04_monitoring
  examples.nonblocking: ocabox_tcs.services.examples.05_nonblocking

services:
  # 01_minimal - Simplest possible service (no restart)
  - type: examples.minimal
    variant: tutorial
    restart: "no"

  # 02_basic - Service with custom configuration (restart on failure)
  - type: examples.basic
    variant: tutorial
    interval: 2.0
    message: "Basic service running"
    restart: "on-failure"
    restart_sec: 5
    restart_max: 3
    restart_window: 60

  # 03_logging - Demonstrates logging best practices (restart on failure)
  - type: examples.logging
    variant: tutorial
    interval: 3.0
    simulate_errors: true
    restart: "on-failure"
    restart_sec: 5
    restart_max: 5
    restart_window: 120

  # 04_monitoring - Shows monitoring and health checks (always restart)
  - type: examples.monitoring
    variant: tutorial
    interval: 2.0
    max_errors: 5
    restart: "always"
    restart_sec: 3
    restart_max: 0  # unlimited

  # 05_nonblocking - Non-blocking permanent service with background workers (no restart)
  - type: examples.nonblocking
    variant: tutorial
    worker_count: 3
    interval: 2.0
    restart: "no"
